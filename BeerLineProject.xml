<?xml version="1.0" encoding="UTF-8" standalone="no"?><Entities build="b140" majorVersion="8" minorVersion="2" modelPersistenceProviderPackage="PostgresPersistenceProviderPackage" revision="1" schemaVersion="1020" universal=""><StyleDefinitions/><Networks/><PersistenceProviderPackages/><Mashups/><ScriptFunctionLibraries/><Projects><Project dependsOn="" description="" documentationContent="" homeMashup="" lastModifiedDate="2018-07-10T08:40:18.709+02:00" name="BeerLineProject" packageVersion="1.0.0" projectName="BeerLineProject" tags=""><Owner name="Arne" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables/><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="header : name : updated&#10;" timestamp="2018-07-10T08:40:18.709+02:00" user="Arne"/></ConfigurationChanges></Project></Projects><Users/><DirectoryServices/><Widgets/><MediaEntities/><Groups/><PersistenceProviders/><NotificationContents/><ModelTags/><LocalizationTables/><Dashboards/><DataAnalysisDefinitions/><DataShapes/><Things><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T09:53:02.212+02:00" name="Asset_BeerCaseFiller" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_BeerCaseFiller"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[//GETTING STOCKS OF FILLEDBOTTLES AND BEERCASES

//Filles bottles

var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "FilledBottles"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var filledBottlesStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//BeerCases
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerCases"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerCaseStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

if(filledBottlesStock.Stock > amount && beerCaseStock.Stock > amount){
    result = true;
} else {
    result = false;
}



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[//GETTING STOCK OF FILLED BOTTLES AND BEERCASES
//FILLED BOTTLES
var delta = eventData.newValue.value - eventData.oldValue.value;

var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "FilledBottles"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var filledBeerStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

if(filledBeerStock.Stock >= delta*24){
    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "FilledBottles"; //STRING [Primary Key]
    values.Stock = filledBeerStock.Stock - 24; //INTEGER
    var params = {
        sourceType: undefined /* STRING */,
        values: values /* INFOTABLE*/,
        location: undefined /* LOCATION */,
        source: undefined /* STRING */,
        tags: undefined /* TAGS */
    };
    Things["BeerFactoryStock"].UpdateDataTableEntry(params);
}

//BEERCASES
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerCases"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beercaseStock = Things["BeerFactoryStock"].GetDataTableEntry(params);


var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerCases"; //STRING [Primary Key]
values.Stock = beercaseStock.Stock - delta; //INTEGER
var params = {
    sourceType: undefined /* STRING */,
    values: values /* INFOTABLE*/,
    location: undefined /* LOCATION */,
    source: undefined /* STRING */,
    tags: undefined /* TAGS */
};
Things["BeerFactoryStock"].UpdateDataTableEntry(params);


//UPDATE FINISHED PRODUCTS
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "FinishedProducts"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beercases = Things["BeerFactoryStock"].GetDataTableEntry(params);

var values = Things["BeerFactoryStock"].CreateValues();

values.Article = "FinishedProducts"; //STRING [Primary Key]
values.Stock = beercases.Stock + delta;

var params = {
	sourceType: undefined /* STRING */,
	values: values /* INFOTABLE*/,
	location: undefined /* LOCATION */,
	source: undefined /* STRING */,
	tags: undefined /* TAGS */
};

// no return
Things["BeerFactoryStock"].UpdateDataTableEntry(params);

]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:08.184+02:00</Value><Timestamp>2018-07-10T10:11:08.184+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:43:32.963+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>850.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>850.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_BeerCaseFiller:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>6293.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>5278.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_BeerCaseFiller:BadCount" + "Asset_BeerCaseFiller:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_BeerCaseFiller:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:23:00.065+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_BeerCaseFiller:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:34:23.848+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_BeerCaseFiller:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:34:23.848+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:34:23.848+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T11:34:15.208+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T11:34:15.208+02:00</Value><Timestamp>2018-07-09T11:34:15.208+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_BeerCaseFiller" OR "Asset_BeerCaseFiller:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:34:23.848+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:12.269+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_BeerCaseFiller:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:34:23.848+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T11:34:15.208+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:23:00.000+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:18.829+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[BeerCaseFiller]]></Value><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:54:27.598+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:18.829+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:18.829+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_null]]></Value><Timestamp>2018-07-10T09:50:40.367+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.371+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>1015</Value><Timestamp>2018-07-10T10:11:08.189+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>850.0</Value><Timestamp>2018-07-10T09:50:40.365+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.363+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>5278</Value><Timestamp>2018-07-10T10:11:08.186+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>13.82</Value><Timestamp>2018-07-10T10:11:08.190+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_BeerCaseFiller created programatically" timestamp="2018-07-09T10:42:43.114+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:45:13.149+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperature : updated property binding&#10;" timestamp="2018-07-09T10:51:17.180+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T11:07:48.523+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:30:10.161+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="" timestamp="2018-07-09T11:45:31.686+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="" timestamp="2018-07-09T11:50:58.959+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:45:04.458+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:53:02.211+02:00" user="Dwight"/></ConfigurationChanges></Thing><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T09:51:49.737+02:00" name="Asset_BeerCaseRecycler" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_BeerCaseRecycler"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[result = true;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var delta = eventData.newValue.value - eventData.oldValue.value
if(delta < 0){
    delta = 0
}

//GETTING CURRENT STOCK OF BEERCASES
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerCases"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerCaseStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//UPDATE
var values = Things["BeerFactoryStock"].CreateValues();

values.Article = "BeerCases"; //STRING [Primary Key]
values.Stock = beerCaseStock.Stock + delta;

var params = {
	sourceType: undefined /* STRING */,
	values: values /* INFOTABLE*/,
	location: undefined /* LOCATION */,
	source: undefined /* STRING */,
	tags: undefined /* TAGS */
};
Things["BeerFactoryStock"].UpdateDataTableEntry(params);



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:07.739+02:00</Value><Timestamp>2018-07-10T10:11:07.739+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:43:32.963+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>800.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>800.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_BeerCaseRecycler:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>6090.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>5481.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_BeerCaseRecycler:BadCount" + "Asset_BeerCaseRecycler:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_BeerCaseRecycler:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:23:00.065+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_BeerCaseRecycler:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:35:03.590+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_BeerCaseRecycler:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:35:03.590+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:35:03.590+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T11:57:00.062+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T11:57:00.062+02:00</Value><Timestamp>2018-07-09T11:57:00.062+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_BeerCaseRecycler" OR "Asset_BeerCaseRecycler:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:35:03.590+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:23.873+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_BeerCaseRecycler:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:35:03.590+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T11:57:00.062+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:23:00.000+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:17.782+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[BeerCaseRecycler]]></Value><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:54:49.005+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:17.470+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:17.470+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_BeerCaseFiller]]></Value><Timestamp>2018-07-10T09:50:40.296+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.311+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>609</Value><Timestamp>2018-07-10T10:11:07.741+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>800.0</Value><Timestamp>2018-07-10T09:50:40.284+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.282+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>5481</Value><Timestamp>2018-07-10T10:11:07.740+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>29.79</Value><Timestamp>2018-07-10T10:11:07.742+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_BeerCaseRecycler created programatically" timestamp="2018-07-09T10:41:46.367+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:45:24.415+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperature : updated property binding&#10;" timestamp="2018-07-09T10:51:50.145+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T10:59:45.161+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:19:39.504+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:46:04.223+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:51:49.736+02:00" user="Dwight"/></ConfigurationChanges></Thing><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T09:56:42.032+02:00" name="Asset_BottleRecycler" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_BottleRecycler"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[result = true;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var delta = eventData.newValue.value - eventData.oldValue.value
if(delta < 0){
    delta = 0
}

//GETTING CURRENT STOCK OF EMPTY BOTTLES
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "EmptyBottles"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var emptyBottleStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//UPDATE
var values = Things["BeerFactoryStock"].CreateValues();

values.Article = "EmptyBottles"; //STRING [Primary Key]
values.Stock = emptyBottleStock.Stock + delta;

var params = {
	sourceType: undefined /* STRING */,
	values: values /* INFOTABLE*/,
	location: undefined /* LOCATION */,
	source: undefined /* STRING */,
	tags: undefined /* TAGS */
};
Things["BeerFactoryStock"].UpdateDataTableEntry(params);



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:07.920+02:00</Value><Timestamp>2018-07-10T10:11:07.920+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:43:32.963+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>800.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>800.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900081.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_BottleRecycler:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>8120.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>7308.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900081.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_BottleRecycler:GoodCount" + "Asset_BottleRecycler:BadCount"]]></Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_BottleRecycler:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:23:00.081+02:00</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_BottleRecycler:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:36:35.426+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_BottleRecycler:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:36:35.426+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:36:35.426+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T13:26:00.075+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T13:26:00.075+02:00</Value><Timestamp>2018-07-09T13:26:00.075+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_BottleRecycler" OR "Asset_BottleRecycler:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:36:35.426+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:52.668+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_BottleRecycler:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:36:35.426+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T13:26:00.075+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:23:00.000+02:00</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:19.079+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[BottleRecycler]]></Value><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:55:07.989+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:19.063+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:19.063+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_BeerBottleAssembler]]></Value><Timestamp>2018-07-10T09:50:40.135+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.138+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>812</Value><Timestamp>2018-07-10T10:11:07.922+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>800.0</Value><Timestamp>2018-07-10T09:50:40.133+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.130+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>7308</Value><Timestamp>2018-07-10T10:11:07.921+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>14.36</Value><Timestamp>2018-07-10T10:11:07.923+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_BottleRecycler created programatically" timestamp="2018-07-09T10:40:38.739+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:49:10.866+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperatures : updated property binding&#10;" timestamp="2018-07-09T10:53:28.055+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T10:59:16.630+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:18:20.490+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:46:56.722+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:51:33.571+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : Temperature : updated property binding&#10;" timestamp="2018-07-10T09:56:42.032+02:00" user="Dwight"/></ConfigurationChanges></Thing><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T10:30:57.485+02:00" name="Asset_BeerBottleAssembler" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_BeerBottleAssembler"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[//GETTING STOCKS OF BEERUNITS, EMPTYBOTTLES AND LABELS

//Beer units
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerUnits"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerUnitsStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//Empty bottles
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "EmptyBottles"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var emptyBottlesStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//Labels
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerLabels"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerLabelStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

if(beerUnitsStock.Stock > amount && emptyBottlesStock.Stock > amount && beerLabelStock.Stock > amount){
    result = true;
} else {
    result = false;
}]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var delta = eventData.newValue.value - eventData.oldValue.value
if(delta < 0){
    delta = 0;
}


//BEERUNITS
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerUnits"; //STRING [Primary Key]
var params = {
values: values /* INFOTABLE*/
};
var beerUnitsStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//EMPTY BOTTLES
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "EmptyBottles"; //STRING [Primary Key]
var params = {
values: values /* INFOTABLE*/
};
var emptyBottleStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerLabels"; //STRING [Primary Key]
var params = {
values: values /* INFOTABLE*/
};
var labelStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

if(beerUnitsStock.Stock >= delta && emptyBottleStock.Stock >= delta && labelStock.Stock >= delta){
    //DECREASING BEER UNITS
    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "BeerUnits"; //STRING [Primary Key]
    values.Stock = beerUnitsStock.Stock - delta; //INTEGER
    var params = {
        sourceType: undefined /* STRING */,
        values: values /* INFOTABLE*/,
        location: undefined /* LOCATION */,
        source: undefined /* STRING */,
        tags: undefined /* TAGS */
    };
    Things["BeerFactoryStock"].UpdateDataTableEntry(params);

    //DECREASING EMPTY BOTTLES
    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "EmptyBottles"; //STRING [Primary Key]
    values.Stock = emptyBottleStock.Stock - delta; //INTEGER
    var params = {
        sourceType: undefined /* STRING */,
        values: values /* INFOTABLE*/,
        location: undefined /* LOCATION */,
        source: undefined /* STRING */,
        tags: undefined /* TAGS */
    };
    Things["BeerFactoryStock"].UpdateDataTableEntry(params);

    //DECREASING LABELS
    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "EmptyBottles"; //STRING [Primary Key]
    values.Stock = emptyBottleStock.Stock - delta; //INTEGER
    var params = {
        sourceType: undefined /* STRING */,
        values: values /* INFOTABLE*/,
        location: undefined /* LOCATION */,
        source: undefined /* STRING */,
        tags: undefined /* TAGS */
    };
    Things["BeerFactoryStock"].UpdateDataTableEntry(params);

    //UPDATING FILLED BOTTLES
    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "FilledBottles"; //STRING [Primary Key]
    var params = {
        values: values /* INFOTABLE*/
    };
    var filledBeerStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

    var values = Things["BeerFactoryStock"].CreateValues();
    values.Article = "FilledBottles"; //STRING [Primary Key]
    values.Stock = filledBeerStock.Stock + delta; //INTEGER
    var params = {
        sourceType: undefined /* STRING */,
        values: values /* INFOTABLE*/,
        location: undefined /* LOCATION */,
        source: undefined /* STRING */,
        tags: undefined /* TAGS */
    };
    Things["BeerFactoryStock"].UpdateDataTableEntry(params);

    //Things[me.NextAsset].BufferQuantity += delta;
}
]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:08.186+02:00</Value><Timestamp>2018-07-10T10:11:08.186+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:48:07.092+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>750.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>750.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_BeerBottleAssembler:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>5278.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>3654.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_BeerBottleAssembler:BadCount" + "Asset_BeerBottleAssembler:GoodCount"]]></Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_BeerBottleAssembler:GoodCount"]]></Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:23:00.065+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_BeerBottleAssembler:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:33:22.395+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_BeerBottleAssembler:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:33:22.395+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:33:22.395+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T11:33:12.786+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T11:33:12.786+02:00</Value><Timestamp>2018-07-09T11:33:12.786+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_BeerBottleAssembler" OR "Asset_BeerBottleAssembler:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:33:22.395+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:51:55.448+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_BeerBottleAssembler:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:33:22.395+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T11:33:12.786+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:23:00.000+02:00</Value><Timestamp>2018-07-11T08:23:00.065+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:18.892+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[BeerBottleAssembler]]></Value><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:54:19.410+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:18.782+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:18.782+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_BeerCaseFiller]]></Value><Timestamp>2018-07-10T09:50:40.167+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.184+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>1624</Value><Timestamp>2018-07-10T10:11:08.192+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>750.0</Value><Timestamp>2018-07-10T09:50:40.165+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.163+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>3654</Value><Timestamp>2018-07-10T10:11:08.190+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>174.68</Value><Timestamp>2018-07-10T10:11:08.193+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_BeerBottleAssembler created programatically" timestamp="2018-07-09T10:47:42.538+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:48:25.826+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperature : updated property binding&#10;" timestamp="2018-07-09T10:52:53.897+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T11:05:13.803+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:25:22.583+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:45:20.757+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:52:35.222+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : Event.DataChange:Property.GoodCount : Code Updated&#10;" timestamp="2018-07-10T10:27:02.315+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="" timestamp="2018-07-10T10:30:57.485+02:00" user="Dwight"/></ConfigurationChanges></Thing><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T09:51:14.781+02:00" name="Asset_BeerProducer" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_BeerProducer"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[result = true;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var delta = eventData.newValue.value - eventData.oldValue.value
if(delta < 0){
    delta = 0
}

//GETTING CURRENT STOCK OF BEERUNITS
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerUnits"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerUnitsStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//UPDATE
var values = Things["BeerFactoryStock"].CreateValues();

values.Article = "BeerUnits"; //STRING [Primary Key]
values.Stock = beerUnitsStock.Stock + delta;

var params = {
	sourceType: undefined /* STRING */,
	values: values /* INFOTABLE*/,
	location: undefined /* LOCATION */,
	source: undefined /* STRING */,
	tags: undefined /* TAGS */
};
Things["BeerFactoryStock"].UpdateDataTableEntry(params);



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations/><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:07.485+02:00</Value><Timestamp>2018-07-10T10:11:07.485+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:43:32.963+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>950.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>950.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_BeerProducer:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>6090.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>4872.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900065.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_BeerProducer:BadCount" + "Asset_BeerProducer:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_BeerProducer:GoodCount"]]></Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:23:00.081+02:00</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_BeerProducer:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:35:51.375+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_BeerProducer:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:35:51.375+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:35:51.375+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T11:35:42.671+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T11:35:42.671+02:00</Value><Timestamp>2018-07-09T11:35:42.671+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_BeerProducer" OR "Asset_BeerProducer:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:35:51.375+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:52:35.202+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_BeerProducer:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:35:51.375+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T11:35:42.671+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:23:00.000+02:00</Value><Timestamp>2018-07-11T08:23:00.081+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:18.470+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[BeerProducer]]></Value><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:54:56.286+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:17.985+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:17.985+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_BeerBottleAssembler]]></Value><Timestamp>2018-07-10T09:50:40.252+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.268+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>1218</Value><Timestamp>2018-07-10T10:11:07.498+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>950.0</Value><Timestamp>2018-07-10T09:50:40.246+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.232+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>4872</Value><Timestamp>2018-07-10T10:11:07.487+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>4.55</Value><Timestamp>2018-07-10T10:11:07.500+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_BeerProducer created programatically" timestamp="2018-07-09T10:41:16.356+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:45:00.985+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperature : updated property binding&#10;" timestamp="2018-07-09T10:50:47.383+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T10:58:29.709+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:16:34.353+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="" timestamp="2018-07-09T11:18:31.709+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:46:25.565+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:51:14.780+02:00" user="Dwight"/></ConfigurationChanges></Thing><Thing aspect.isSystemObject="false" description="" documentationContent="" effectiveThingPackage="RemoteThingWithTunnelsAndFileTransfer" enabled="true" homeMashup="" identifier="" lastModifiedDate="2018-07-10T09:52:11.107+02:00" name="Asset_LabelProducer" projectName="BeerLineProject" published="false" tags="PTC:factory-mv;PTC:FactoryPhysicalAssetInstance" thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" valueStream="ValueStream_Asset_LabelProducer"><Owner name="Dwight" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTables><ConfigurationTable description="Tunneling Destinations" isMultiRow="true" name="Tunnels" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Application Path" baseType="STRING" description="Location of the client app that will use this tunnel" name="appUri" ordinal="5"/><FieldDefinition aspect.defaultValue="" aspect.friendlyName="Description" baseType="STRING" description="A description of the tunnel" name="description" ordinal="3"/><FieldDefinition aspect.defaultValue="127.0.0.1" aspect.friendlyName="Host" baseType="STRING" description="Host or IP that this tunnel will connect to at the edge" name="host" ordinal="1"/><FieldDefinition aspect.defaultValue="vnc" aspect.friendlyName="Name" baseType="STRING" description="Name of the tunnel" name="name" ordinal="0"/><FieldDefinition aspect.defaultValue="1.0" aspect.friendlyName="Number of Connects" baseType="NUMBER" description="The number of connections required to establish this tunnel" name="numConnects" ordinal="4"/><FieldDefinition aspect.defaultValue="5900.0" aspect.friendlyName="Port" baseType="NUMBER" description="Port that this tunnel will connect to at the edge" name="port" ordinal="2"/><FieldDefinition aspect.defaultValue="tcp" aspect.friendlyName="Protocol" baseType="STRING" description="The protocol used over this tunnel" name="proto" ordinal="6"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable description="General Settings" isMultiRow="false" name="TunnelSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Enable Tunneling" aspect.isNullable="true" baseType="BOOLEAN" description="Enable tunneling" name="enableTunneling" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row/></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.isPersistent="true" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Temperature" ordinal="0"/></PropertyDefinitions><ServiceDefinitions/><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="checkIfCanProduce"><ConfigurationTables><ConfigurationTable description="Script" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[result = true;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription enabled="true" eventName="DataChange" source="" sourceProperty="GoodCount" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="Event.DataChange:Property.GoodCount"><ConfigurationTables><ConfigurationTable description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[var delta = eventData.newValue.value - eventData.oldValue.value
if(delta < 0){
    delta = 0
}

//GETTING CURRENT STOCK OF LABELS
var values = Things["BeerFactoryStock"].CreateValues();
values.Article = "BeerLabels"; //STRING [Primary Key]
var params = {
	values: values /* INFOTABLE*/
};
var beerLabelStock = Things["BeerFactoryStock"].GetDataTableEntry(params);

//UPDATE
var values = Things["BeerFactoryStock"].CreateValues();

values.Article = "BeerLabels"; //STRING [Primary Key]
values.Stock = beerLabelStock.Stock + delta;

var params = {
	sourceType: undefined /* STRING */,
	values: values /* INFOTABLE*/,
	location: undefined /* LOCATION */,
	source: undefined /* STRING */,
	tags: undefined /* TAGS */
};
Things["BeerFactoryStock"].UpdateDataTableEntry(params);



]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><PropertyBindings/><RemotePropertyBindings><RemotePropertyBinding foldType="NONE" name="BadCount" pushThreshold="0.0" pushType="VALUE" sourceName="BadCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="BufferQuantity" pushThreshold="0.0" pushType="VALUE" sourceName="BufferQuantity" timeout="0"/><RemotePropertyBinding foldType="NONE" name="GoodCount" pushThreshold="0.0" pushType="VALUE" sourceName="GoodCount" timeout="0"/><RemotePropertyBinding foldType="NONE" name="IdealRunRate" pushThreshold="0.0" pushType="VALUE" sourceName="IdealRunRate" timeout="0"/><RemotePropertyBinding foldType="NONE" name="NextAsset" pushThreshold="0.0" pushType="VALUE" sourceName="NextAsset" timeout="0"/><RemotePropertyBinding foldType="NONE" name="pushedStatus" pushThreshold="0.0" pushType="VALUE" sourceName="pushedStatus" timeout="0"/><RemotePropertyBinding foldType="NONE" name="Temperature" pushThreshold="0.0" pushType="VALUE" sourceName="Temperature" timeout="0"/></RemotePropertyBindings><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations><AlertDefinitions name="status"><AlertDefinition alertType="EqualTo" description="The label producer is down unexpectedly." enabled="true" name="BeerLabelProducer_UNPLANNED_DOWN" priority="1"><AlertAttributes><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Value" aspect.isRequired="true" baseType="INTEGER" description="value" name="value" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><value>4</value></Row></Rows></AlertAttributes></AlertDefinition></AlertDefinitions></AlertConfigurations><ImplementedShapes><ImplementedShape name="SimulationThingShape" type="ThingShape"/></ImplementedShapes><ThingProperties><lastConnection><Value>2018-07-10T10:11:07.786+02:00</Value><Timestamp>2018-07-10T10:11:07.786+02:00</Timestamp><Quality>GOOD</Quality></lastConnection><relatedSiteID><Value/><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></relatedSiteID><relatedSite><Value/><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></relatedSite><relatedLines><Value><![CDATA[BeerProductionLine]]></Value><Timestamp>2018-07-09T10:43:32.963+02:00</Timestamp><Quality>GOOD</Quality></relatedLines><EXP_E_performanceTag><Value/><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_performanceTag><idealRunRate><Value>750.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></idealRunRate><performance_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></performance_MinThreshold><durationNotConfiguredTime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></durationNotConfiguredTime><quality_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></quality_MinThreshold><oldidealRunRate><Value>750.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldidealRunRate><durationUnPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></durationUnPlannedDownTime><totalCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></totalCount><quality_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></quality_MaxThreshold><oee><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></oee><durationStatusUnavailableTime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></durationStatusUnavailableTime><EXP_E_qualityTag><Value/><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_qualityTag><durationDowntime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationDowntime><offsetgoodCount><Value>-1.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsetgoodCount><goodCount><Value>0.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></goodCount><oEE_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></oEE_MaxThreshold><durationRuningTime><Value>900066.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationRuningTime><kpiForceUpdate><Value>false</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></kpiForceUpdate><EXP_E_idealRunRate><Value><![CDATA["Asset_LabelProducer:IdealRunRate"]]></Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_idealRunRate><oEE_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></oEE_MinThreshold><oldtotalCount><Value>5278.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldtotalCount><quality><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></quality><oldgoodCount><Value>3654.0</Value><Timestamp>2018-07-11T08:34:00.054+02:00</Timestamp><Quality>GOOD</Quality></oldgoodCount><durationPlannedDownTime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationPlannedDownTime><durationUpTime><Value>900066.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></durationUpTime><performanceTrending><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></performanceTrending><performance><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></performance><EXP_E_totalCount><Value><![CDATA["Asset_LabelProducer:GoodCount" + "Asset_LabelProducer:BadCount"]]></Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_totalCount><performance_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></performance_MaxThreshold><oeeTrending><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></oeeTrending><EXP_E_goodCount><Value><![CDATA["Asset_LabelProducer:GoodCount"]]></Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_goodCount><offsettotalCount><Value>-1.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></offsettotalCount><durationWarningTime><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></durationWarningTime><lastUpdateTime><Value>2018-07-11T08:24:00.066+02:00</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></lastUpdateTime><qualityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></qualityTrending><equipmentAssetMapping><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endTime" ordinal="4"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.EquipmentThingTemplate" baseType="THINGNAME" description="" name="equipmentID" ordinal="1"/><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="physicalAssetID" ordinal="2"/><FieldDefinition baseType="DATETIME" description="" name="startTime" ordinal="3"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></equipmentAssetMapping><physicalAssetCapabilityTestSpecificationID><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetCapabilityTestSpecificationThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetCapabilityTestSpecificationID><physicalAsset><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.thingTemplate="PTC.ISA95.PhysicalAssetThingTemplate" baseType="THINGNAME" description="" name="thingName" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAsset><physicalAssetClassID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></physicalAssetClassID><fixedAssetID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></fixedAssetID><vendorID><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vendorID><EXP_E_Running><Value><![CDATA["Asset_LabelProducer:pushedStatus" = 2]]></Value><Timestamp>2018-07-09T11:36:09.036+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Running><EXP_E_PlannedDowntime><Value><![CDATA["Asset_LabelProducer:pushedStatus" = 3]]></Value><Timestamp>2018-07-09T11:36:09.036+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_PlannedDowntime><statusOrder><Value><![CDATA[1,2,3,4]]></Value><Timestamp>2018-07-09T11:36:09.036+02:00</Timestamp><Quality>GOOD</Quality></statusOrder><availability_MinThreshold><Value>30</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></availability_MinThreshold><statusCriticality><Value>20</Value><Timestamp>2018-07-09T11:35:50.281+02:00</Timestamp><Quality>GOOD</Quality></statusCriticality><statusTimestamp><Value>2018-07-09T11:35:50.281+02:00</Value><Timestamp>2018-07-09T11:35:50.281+02:00</Timestamp><Quality>GOOD</Quality></statusTimestamp><EXP_E_Warning><Value><![CDATA["HAS_ALERTS:Asset_LabelProducer" OR "Asset_LabelProducer:pushedStatus" = 1]]></Value><Timestamp>2018-07-09T11:36:09.036+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_Warning><availability><Value>1.0</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></availability><availability_MaxThreshold><Value>70</Value><Timestamp>2018-07-10T09:53:03.986+02:00</Timestamp><Quality>GOOD</Quality></availability_MaxThreshold><availabilityTrending><Value>0.0</Value><Timestamp>2018-07-11T08:24:00.081+02:00</Timestamp><Quality>GOOD</Quality></availabilityTrending><EXP_E_UnplannedDowntime><Value><![CDATA["Asset_LabelProducer:pushedStatus" = 4]]></Value><Timestamp>2018-07-09T11:36:09.036+02:00</Timestamp><Quality>GOOD</Quality></EXP_E_UnplannedDowntime><status><Value>2</Value><Timestamp>2018-07-09T11:35:50.296+02:00</Timestamp><Quality>GOOD</Quality></status><displayId><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></displayId><uuid><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></uuid><vncPassword><Value/><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></vncPassword><lastCalculationTime><Value>2018-07-11T08:24:00.000+02:00</Value><Timestamp>2018-07-11T08:24:00.066+02:00</Timestamp><Quality>GOOD</Quality></lastCalculationTime><kpisCalculationPeriod><Value>15</Value><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></kpisCalculationPeriod><shiftStartTime><Value><![CDATA[00:00]]></Value><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></shiftStartTime><shiftDuration><Value><![CDATA[23:59]]></Value><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></shiftDuration><monitoredPropertyNames><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition aspect.isPrimaryKey="true" baseType="STRING" description="Item" name="item" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><item><![CDATA[Temperature]]></item></Row></Rows></infoTable></Value><Timestamp>2018-07-10T14:04:19.001+02:00</Timestamp><Quality>GOOD</Quality></monitoredPropertyNames><assetImage><Value>iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAADAFBMVEUAAAAAAAAAAAAAAACioqKi
oqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAACioqL///8fHx8gICAhISEiIiIjIyMkJCQlJSUmJiYnJycoKCgpKSkqKior
KyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+
Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJSUlKSkpLS0tMTExNTU1OTk5PT09QUFBR
UVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tcXFxdXV1eXl5fX19gYGBhYWFiYmJjY2Nk
ZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5vb29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3
d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGCgoKDg4OEhISFhYWGhoaHh4eIiIiJiYmK
ioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSVlZWWlpaXl5eYmJiZmZmampqbm5ucnJyd
nZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eoqKipqamqqqqrq6usrKytra2urq6vr6+w
sLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLD
w8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3Ozs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW
1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp
6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P09PT19fX29vb39/f4+Pj5+fn6+vr7+/v8
/Pz9/f3+/v7///8Bfjd0AAAAHHRSTlMAz++/EJ/vMM+AQGC/r99wjyBQYJ9QrxBAMI9w3LqJugAA
AmdJREFUeNrll2uXmjAQht9IFF3q5bAg7tr//8+8pFgsdnENRNKExV3lqnxrm+ORaPIw4c3MZCBk
iW5tRb6vSSdSvlKQcyfUQA+d21+PUno3ejOTEuKBSSkeRk3pqW8Fm/xRlMyxSw3peP6jz2q5CN75
8T2Aaz2IxvAjfY181X0MNZF7M1HdRjlLKL+MU5RkMnsDs+FuA8xizTzNMEgKpNY+iOqthpAWhSUQ
FqxSvd2wrVqrgjMv6zAiCh6mtCfh1KZhnSNysteXPeFlMuJHH5N+rXKcnwaIi25IXBzUYwr47mJ7
JYIxeZNX09IkSTNdDIPm2aO/wPaYjeE8/CbTNF/uuDpQLBsXT56NcTElfp8WswSiKV6nNhjzpN5J
a4z91yKTLdzPsKxC+xP4FslYZd4/XQ0lB7hPZh1K1cP5Ys81O1KkuJEtDDCVZjVKqZJFT9esAyYK
gkcBPFnp1qbailwWbioX6UfFe0dCVi7YlGr7k08XYUjKQcTjuAK1pceuvJyTXOf2jGhZHiPRjWs2
sNfozEZY8N8m9grtj+Efi0GesS0ZUcfHL1HOwErnlmSqyW1SNYO35GG9KYfksTMnR1XuCSJ0QsHo
sTz4jJ/teTiOK0hnNHK6na/OEBg6XVBNNrK9BnIN9alne/Xk6lkJtapnKaRRkFWFWkbO1ellzFfL
obNTB7YsiC1ByoXeefNBsgWF2Ho/ljjt8GKUCj1aKhzIhcw33Mvsbl6KQSCrCsTX3geZWVVrVXbT
9X0ysS+b2c/5CuxOhedyfjOVqT/a6qa8bcrL+CfLy/8VJQBpfOeob29jrBuG/wDCwvR0z2wK5QAA
AABJRU5ErkJggg==</Value><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></assetImage><physicalLocation><Value/><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></physicalLocation><serialNumber><Value/><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></serialNumber><displayName><Value><![CDATA[LabelProducer]]></Value><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></displayName><modelNumber><Value/><Timestamp>2018-07-09T11:55:16.036+02:00</Timestamp><Quality>GOOD</Quality></modelNumber><anomalyStatusTimestamp><Value>2018-07-10T14:04:17.063+02:00</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatusTimestamp><anomalyFeedback><Value><infoTable><DataShape><FieldDefinitions><FieldDefinition baseType="DATETIME" description="" name="endDate" ordinal="2"/><FieldDefinition baseType="STRING" description="" name="feedback" ordinal="3"/><FieldDefinition baseType="DATETIME" description="" name="startDate" ordinal="1"/></FieldDefinitions></DataShape><Rows/></infoTable></Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyFeedback><lastCalibrationCompleteTimestamp><Value>1970-01-01T01:00:00.000+01:00</Value><Timestamp>2018-07-10T14:04:17.063+02:00</Timestamp><Quality>GOOD</Quality></lastCalibrationCompleteTimestamp><isCalibrationStarted><Value>false</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></isCalibrationStarted><anomalyStatus><Value>0</Value><Timestamp>1970-01-01T01:00:00.000+01:00</Timestamp><Quality>UNKNOWN</Quality></anomalyStatus><NextAsset><Value><![CDATA[Asset_BeerBottleAssembler]]></Value><Timestamp>2018-07-10T09:50:40.347+02:00</Timestamp><Quality>GOOD</Quality></NextAsset><BufferQuantity><Value>5000</Value><Timestamp>2018-07-10T09:50:40.353+02:00</Timestamp><Quality>GOOD</Quality></BufferQuantity><BadCount><Value>1624</Value><Timestamp>2018-07-10T10:11:07.789+02:00</Timestamp><Quality>GOOD</Quality></BadCount><IdealRunRate><Value>750.0</Value><Timestamp>2018-07-10T09:50:40.345+02:00</Timestamp><Quality>GOOD</Quality></IdealRunRate><pushedStatus><Value>2</Value><Timestamp>2018-07-10T09:50:40.343+02:00</Timestamp><Quality>GOOD</Quality></pushedStatus><GoodCount><Value>3654</Value><Timestamp>2018-07-10T10:11:07.788+02:00</Timestamp><Quality>GOOD</Quality></GoodCount><Temperature><Value>29.22</Value><Timestamp>2018-07-10T10:11:07.790+02:00</Timestamp><Quality>GOOD</Quality></Temperature></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="Thing Asset_LabelProducer created programatically" timestamp="2018-07-09T10:42:15.021+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;" timestamp="2018-07-09T10:45:39.834+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="header : implementedShapes : updated&#10;properties : BadCount : updated property binding, BufferQuantity : updated property binding, GoodCount : updated property binding, idealRunRate : updated property binding, NextAsset : updated property binding, pushedStatus : updated property binding, Temperature : updated property binding&#10;" timestamp="2018-07-09T10:52:24.492+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="services : checkIfCanProduce : Code Updated&#10;" timestamp="2018-07-09T11:00:37.736+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : New subscription : Code Updated, Event.DataChange:Property.GoodCount : New subscription, Subscription Added&#10;" timestamp="2018-07-09T11:20:36.225+02:00" user="Dwight"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : idealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:45:42.855+02:00" user="Arne"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : IdealRunRate : updated property binding&#10;" timestamp="2018-07-10T09:52:11.106+02:00" user="Dwight"/></ConfigurationChanges></Thing></Things><Logs/><Authenticators/><ThingPackages/><NotificationDefinitions/><ApplicationKeys/><StateDefinitions/><ThingTemplates/><ExtensionPackages/><Organizations/><Menus/><Resources/><DataTags/><ThingShapes/><Subsystems/></Entities>